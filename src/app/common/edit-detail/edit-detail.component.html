<!-- <div class="wrap-edit-detail" [ngClass]="{'custom-edit': isHideButton}"  [id]="idDetail" *ngIf="dataView.length > 0">
    <div class="grid">
        <ng-container *ngFor="let group of dataView; let idx = index">
            <div class="{{group.group_column}} ">
                <div class="border-section">
                    <p-panel>
                        <ng-template pTemplate="header" *ngIf="group.group_name">
                            <div class="grid d-flex justify-content-between" style="width: 100%">
                                <h3 class="title-section">{{group.group_name}}</h3>
                                <div>
                                    <span *ngIf="group.group_name !== 'Giấy tờ'" class="pi pi-cog cursor-pointer" [ngClass]="{'hidden': group.group_name === 'Bàn giao'}" (click)="CauHinh()"></span>
                                    <p-button label="Xử lý bàn giao" *ngIf="group.group_name === 'Bàn giao'" styleClass="p-button-sm" icon="pi pi-check" (click)="onChangeButtonEdit('NghiViec')"></p-button>
                                     </div>
                            </div>
                        </ng-template>
                        <ng-template pTemplate="header" *ngIf="!group.group_name && idx === 0">
                            <div  class="grid d-flex justify-content-between" style="width: 100%">
                                   <div> <span *ngIf="group.group_name !== 'Giấy tờ'" class="pi pi-cog cursor-pointer" [ngClass]="{'hidden': group.group_name === 'Bàn giao'}" (click)="CauHinh()"></span></div>
                                </div>
                        </ng-template>
                        <div class="row" style="flex-wrap: wrap">
                            <div *ngFor="let element of group.fields;let i=index" 
                            [hidden]="!element.isVisiable"
                            [ngClass]="{'isEmpty': element.isEmpty, 'has-image': includeImage && element?.columnType === 'image', 'image-iam': element?.columnType === 'image'}" 
                            class="{{element.columnClass}} ">
                            <app-type-image [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element?.columnType === 'image'" (avatarUrlCallback)="avatarUrlCallback($event)"></app-type-image>
                            <app-type-text [modelFields]="modelFields" [element]="element" [submit]="submit" *ngIf="element?.columnType === 'input'" (special)="onChangeIsSpecial($event)"></app-type-text>
                            <app-type-select [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'khongDung'"></app-type-select> 
                            <app-type-selectTree (special)="onChangeIsSpecial($event)" [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'selectTree' && element.isVisiable" [dataView]="dataView"></app-type-selectTree>
                            <app-type-autocomplete [modelFields]="modelFields" [dataView]="dataView" [element]="element" *ngIf="element?.columnType === 'autocomplete'" [submit]="submit"></app-type-autocomplete>
                            <app-type-autocompletes [modelFields]="modelFields" [dataView]="dataView" [element]="element" *ngIf="element?.columnType === 'autoCompletes'" [submit]="submit"></app-type-autocompletes>
                            <app-type-selectTrees (emitTreeValue)="getValueTree($event)" [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'selectTrees' && element.isVisiable" [dataView]="dataView"></app-type-selectTrees>
                            <app-type-dropdown (special)="onChangeIsSpecial($event)" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'dropdown' || element.columnType === 'select'" [submit]="submit" [paramsObject]="paramsObject" [dataView]="dataView" (callback)="resetData($event)" (dataInfo)="getDataInfo($event)"></app-type-dropdown>
                            <app-type-number (special)="onChangeIsSpecial($event)" [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'number'"></app-type-number>
                            <app-type-currency (special)="onChangeIsSpecial($event)" [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'currency'"></app-type-currency>
                            <app-type-checkbox  [dataView]="dataView" [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'checkbox'"></app-type-checkbox>
                            <app-type-textarea [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'textarea'"></app-type-textarea>
                            <app-type-datetime [modelFields]="modelFields" [submit]="submit" [element]="element" *ngIf="element.columnType === 'datetime'"></app-type-datetime>
                            <app-type-datefulltime [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'datefulltime'"></app-type-datefulltime>
                            <app-type-timeonly [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'timeonly'"></app-type-timeonly>
                            <app-type-multiSelect  [element]="element" *ngIf="element.columnType === 'multiSelect'" [modelFields]="modelFields" [submit]="submit" [dataView]="dataView"></app-type-multiSelect>
                            <app-type-markdown [element]="element" [modelMarkdow]="modelMarkdow" [dataView]="dataView" *ngIf="element.columnType === 'markdown'"></app-type-markdown>
                            <app-type-checkboxList [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'checkboxList'"></app-type-checkboxList>
                            <app-type-checkboxradiolist [submit]="submit" [modelFields]="modelFields" [element]="element" *ngIf="element.columnType === 'checkboxradiolist'"></app-type-checkboxradiolist>
                            <app-type-linkurl [element]="element" *ngIf="element.columnType === 'linkUrl'" [dataView]="dataView"></app-type-linkurl>
                            <app-type-linkurl-drag [detailInfo]="detail" [isUploadMultiple]="isUploadMultiple" [element]="element" *ngIf="element.columnType === 'linkUrlDrag'" (callback)="getFilesDrag($event)" [modelFields]="modelFields" [dataView]="dataView"></app-type-linkurl-drag>
                            <app-type-members (searchMember)="memberGetQuery($event)" [element]="element" *ngIf="element.columnType === 'members'" [modelFields]="modelFields" [dataView]="dataView"></app-type-members>
                            <app-type-chips (emitChipsValue)="emitChipsValue($event)" [element]="element" *ngIf="element.columnType === 'chips'" [modelFields]="modelFields" [dataView]="dataView"></app-type-chips>
                            <app-type-listMch [element]="element" *ngIf="element.columnType === 'listMch'" [modelFields]="modelFields" [dataView]="dataView"></app-type-listMch>
                            <app-type-roomImg [element]="element" *ngIf="element.columnType === 'roomImg'" [modelFields]="modelFields" [dataView]="dataView"></app-type-roomImg>
                            <app-type-onOff [element]="element" *ngIf="element.columnType === 'onOff'" [modelFields]="modelFields" [dataView]="dataView"></app-type-onOff>
                            <app-type-label [element]="element" *ngIf="element.columnType === 'label'" [modelFields]="modelFields" [dataView]="dataView"></app-type-label>
                        </div>
                        </div>
                    </p-panel>
                </div>
            </div>
        </ng-container>
    </div>
    
    <div class="main-grid text-right btn-group-edit-detail" [style]="{'visibility': isHideButton ? 'hidden' : ''}" *ngIf = "isViewButtonTop">
        <ng-container *ngFor="let button of optionsButtonsEdit">
            <button pButton [id]="button.value" (click)="onChangeButtonEdit(button.value)" class="p-button-sm  {{button.class ? button.class : ''}} mr-1">
                <span class="button.icon"></span>{{button.label}}
            </button>
        </ng-container>
       
    </div>
    <div class="main-grid text-right btn-group-edit-detail" *ngIf = "!isViewButtonTop">
        <ng-container *ngFor="let button of optionsButtonsEdit">

            <p-button *ngIf="button !== 'CauHinh'" label="{{button.label}}" (onClick)="onChangeButtonEdit(button.value)" icon="{{button?.icon ? button?.icon : 'pi pi-plus'}}" styleClass="p-button-sm {{button?.class ? button?.class : ''}} mr-1"></p-button>
            <p-button *ngIf="button === 'CauHinh'" (onClick)="onChangeButtonEdit(button.value)" icon="{{button?.icon ? button?.icon : 'pi pi-plus'}}" styleClass="p-button-sm p-button-secondary {{button?.class ? button?.class : ''}} mr-1"></p-button>
        </ng-container>
    </div>
</div> -->


<form [formGroup]="form" *ngIf="fields.length > 0" >
     
    <formly-form [model]="model" [fields]="fields" [options]="options" [form]="form"></formly-form>
    <div class="flex justify-content-end pb-4 gap-2 btns-detail">
    <ng-container *ngFor="let button of buttons">
        <button pButton  (click)="onChangeButtonEdit(button.value)"  [disabled]="button?.disabled" [class]="button?.class ? button.class: ''">
          <span *ngIf="button.icon" [class]="button.icon"></span> {{button.label}}</button>
    </ng-container>
    <button pButton  (click)="CauHinh()"  class="p-button-sm p-button-secondary">
      <span  class="uni-icon uni-setting-transparent uni-white-color"></span></button>
    <button pButton *ngIf="isFiler" class="btn-trans ml-1" icon="pi pi-times" (click)="cancel('Close')">Đóng</button>
  </div>
  </form>









<p-dialog header="Cài đặt cấu hình " [appendTo]="'body'" [focusTrap]="false" styleClass="popup-setting" [(visible)]="displaySetting" (onHide)="cancel('CauHinh')" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
[draggable]="false" [resizable]="false">
<app-config-grid-table-form *ngIf="displaySetting && gridKey" [typeConfig]="'FormInfo'" (callbackF)="callbackConfigGridTanle($event)"  [gridKey]="gridKey"></app-config-grid-table-form>
</p-dialog>

<p-dialog [(visible)]="displaySetting1" [autoZIndex]="true" header="Cấu hình form group" [modal]="true" [style]="{width: '50vw', height: 'auto'}">
    <app-edit-detail *ngIf="listViews.length> 0" [detail]="detailInfoConfig" [manhinh]="'Edit'" [isViewButtonTop]="false" [optionsButtonsEdit]="optionsButtonsEdit1"  [dataView]="listViews"
        (callback)="setGroupInfo($event)" (callbackcancel)="quaylai($event)"></app-edit-detail>
</p-dialog>