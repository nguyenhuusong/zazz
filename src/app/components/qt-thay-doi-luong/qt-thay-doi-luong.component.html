
<div class="main-grid">
    <section class="bread-crumb">
        <div class="d-flex bet middle">
            <div class="p-0 col-12 md:col-12 lg:col-3 xl:col-3">
                <app-hrm-breadcrumb [displayTitle]="true" [items]="items"></app-hrm-breadcrumb>
            </div>
            <div class="d-flex end p-0 wrap col-12 md:col-12 lg:col-9 xl:col-9 gap12">
                <div class="filter filter-search p-0 col-4 md:col-4 lg:col-4 xl:col-3">           
                    <div class="fields search mb-0" [ngClass]=" query.filter ? 'valid' : 'invalid' ">
                        <input class="input-default" placeholder="Tìm kiếm" type="text" autocomplete="off" id="filter"
                            (keydown.enter)="query.offSet = 0; first = 0;load()"
                        [(ngModel)]="query.filter">
                        <span class="placeholder-icon" (click)="query.offSet = 0; first = 0; load()">
                            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M9.02893 0.850098C4.51087 0.850098 0.849609 4.51552 0.849609 9.03539C0.849609 13.5553 4.51087 17.2207 9.02893 17.2207C10.8456 17.2207 12.5254 16.6271 13.8828 15.6241L17.1276 18.8716C17.4984 19.2427 18.0999 19.243 18.4711 18.8721C18.8422 18.5013 18.8425 17.8998 18.4716 17.5286L15.2709 14.3252C16.4787 12.8991 17.2083 11.0518 17.2083 9.03539C17.2083 4.51552 13.547 0.850098 9.02893 0.850098ZM2.74961 9.03539C2.74961 5.56338 5.56169 2.7501 9.02893 2.7501C12.4962 2.7501 15.3083 5.56338 15.3083 9.03539C15.3083 10.8568 14.5355 12.496 13.2976 13.645C12.1765 14.6858 10.6778 15.3207 9.02893 15.3207C5.56169 15.3207 2.74961 12.5074 2.74961 9.03539Z" fill="#2B2F33" fill-opacity="0.6"/>
                                </svg>
                        </span>
                    </div>
                </div>
                <p-button
                    (click)="op.toggle($event)"
                    styleClass="p-button-sm height-56 ">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.2913 3.47726H0.769231C0.344396 3.47726 0 3.14148 0 2.72726C0 2.31305 0.344396 1.97726 0.769231 1.97726H11.4465C11.8523 0.96494 12.8427 0.25 14 0.25C15.1573 0.25 16.1477 0.96494 16.5535 1.97726H19.2309C19.6557 1.97726 20.0001 2.31305 20.0001 2.72726C20.0001 3.14148 19.6557 3.47726 19.2309 3.47726H16.7087C16.4828 4.76856 15.356 5.75 14 5.75C12.644 5.75 11.5172 4.76856 11.2913 3.47726ZM12.7587 2.85147C12.753 2.90017 12.75 2.94974 12.75 3C12.75 3.69036 13.3096 4.25 14 4.25C14.6904 4.25 15.25 3.69036 15.25 3C15.25 2.30964 14.6904 1.75 14 1.75C13.3762 1.75 12.8591 2.20697 12.7652 2.80443C12.7636 2.82026 12.7614 2.83594 12.7587 2.85147Z" fill="#F3F8FF"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.64647 9.24997C9.32 8.09573 8.25877 7.25 7 7.25C5.74123 7.25 4.68 8.09573 4.35352 9.24997H0.769231C0.344396 9.24997 0 9.58576 0 9.99997C0 10.4142 0.344396 10.75 0.769231 10.75H4.35351C4.67996 11.9042 5.74121 12.75 7 12.75C8.25879 12.75 9.32004 11.9042 9.64649 10.75H19.2308C19.6557 10.75 20.0001 10.4142 20.0001 9.99997C20.0001 9.58576 19.6557 9.24997 19.2308 9.24997H9.64647ZM7 8.75C6.30964 8.75 5.75 9.30964 5.75 10C5.75 10.6904 6.30964 11.25 7 11.25C7.64529 11.25 8.17638 10.761 8.24297 10.1334C8.23499 10.0901 8.23083 10.0455 8.23083 9.99997C8.23083 9.95444 8.23499 9.90985 8.24296 9.86656C8.17636 9.23895 7.64528 8.75 7 8.75Z" fill="#F3F8FF"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.44645 18.0227H0.769231C0.344396 18.0227 0 17.6869 0 17.2727C0 16.8585 0.344396 16.5227 0.769231 16.5227H9.29127C9.51724 15.2314 10.644 14.25 12 14.25C13.356 14.25 14.4827 15.2314 14.7087 16.5227H19.2308C19.6557 16.5227 20.0001 16.8585 20.0001 17.2727C20.0001 17.6869 19.6557 18.0227 19.2308 18.0227H14.5536C14.1477 19.035 13.1574 19.75 12 19.75C10.8426 19.75 9.85227 19.035 9.44645 18.0227ZM10.75 17C10.75 16.3096 11.3096 15.75 12 15.75C12.6904 15.75 13.25 16.3096 13.25 17C13.25 17.6904 12.6904 18.25 12 18.25C11.3096 18.25 10.75 17.6904 10.75 17Z" fill="#F3F8FF"/>
                        </svg> &nbsp;&nbsp;
                        Bộ Lọc
                    </p-button>
                <p-button (click)="menuButton.toggle($event)" 
                    styleClass="p-button-sm height-56 ">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.2002 13.2H13.2002V10.2H14.8002V13.2H17.8002V14.8H14.8002V17.7999H13.2002V14.8H10.2002V13.2Z" fill="#F3F8FF"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M0.200195 0.199951H7.8002V7.79995H0.200195V0.199951ZM6.2002 1.79995H1.8002V6.19995H6.2002V1.79995Z" fill="#F3F8FF"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.8002 7.79995H10.2002V0.199951H17.8002V7.79995ZM11.8002 6.19995H16.2002V1.79995H11.8002V6.19995Z" fill="#F3F8FF"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M0.200195 10.2H7.8002V17.7999H0.200195V10.2ZM6.2002 11.8H1.8002V16.2H6.2002V11.8Z" fill="#F3F8FF"/>
                        </svg>
                        &nbsp; Tiện ích
                </p-button>
                <!-- <p-button
                styleClass="p-button-sm height-56 ">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.10199 10.0001C6.10199 7.84533 7.84722 6.1001 10.002 6.1001C12.1568 6.1001 13.902 7.84533 13.902 10.0001C13.902 12.1549 12.1568 13.9001 10.002 13.9001C7.84722 13.9001 6.10199 12.1549 6.10199 10.0001ZM7.90199 10.0001C7.90199 11.1553 8.84676 12.1001 10.002 12.1001C11.1572 12.1001 12.102 11.1553 12.102 10.0001C12.102 8.84487 11.1572 7.9001 10.002 7.9001C8.84676 7.9001 7.90199 8.84487 7.90199 10.0001Z" fill="#F3F8FF"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.3328 10.9677L17.3257 11.0239L19.4802 12.7087C19.6292 12.8265 19.6721 13.0416 19.5748 13.2212L17.5754 16.68L17.5748 16.6811C17.5036 16.8078 17.368 16.8801 17.232 16.8801C17.1842 16.8801 17.1358 16.8723 17.0864 16.8561L14.547 15.8363L14.502 15.8701C13.9872 16.2562 13.4345 16.5915 12.8341 16.8376L12.7811 16.8593L12.393 19.5659L12.3928 19.5677C12.3693 19.7551 12.2042 19.9001 12.002 19.9001H8.00199C7.79981 19.9001 7.63464 19.7551 7.61124 19.5677L7.22286 16.8593L7.16991 16.8376C6.56875 16.5912 6.01644 16.2658 5.50296 15.8708L5.45771 15.836L2.91485 16.8573C2.87884 16.8717 2.83184 16.8801 2.78199 16.8801C2.63486 16.8801 2.4999 16.8068 2.42916 16.6811L0.429221 13.2212C0.331903 13.0416 0.37495 12.8264 0.523956 12.7086L2.67825 11.0239L2.67122 10.9677C2.63148 10.6497 2.60199 10.3243 2.60199 10.0001C2.60199 9.67591 2.63148 9.35045 2.67122 9.0325L2.67825 8.97625L0.523811 7.29149C0.371682 7.17128 0.32503 6.95535 0.428568 6.78014L2.42857 3.32015L2.42915 3.31912C2.50042 3.19243 2.63599 3.1201 2.77199 3.1201C2.81979 3.1201 2.86823 3.12789 2.91764 3.14406L5.45696 4.16387L5.50199 4.1301C6.01682 3.74398 6.56946 3.40872 7.16991 3.16263L7.22286 3.14093L7.611 0.434295L7.61122 0.432501C7.63464 0.245098 7.79981 0.100098 8.00199 0.100098H12.002C12.2042 0.100098 12.3693 0.2451 12.3927 0.432503L12.7811 3.14093L12.8341 3.16263C13.4352 3.40901 13.9875 3.73438 14.501 4.12936L14.5463 4.16417L17.0891 3.14295C17.1251 3.12854 17.1721 3.1201 17.222 3.1201C17.3691 3.1201 17.5041 3.19335 17.5748 3.31913L19.5748 6.779C19.6721 6.95858 19.6291 7.17383 19.48 7.29161L17.3257 8.97625L17.3328 9.0325C17.3725 9.35055 17.402 9.66597 17.402 10.0001C17.402 10.3342 17.3725 10.6496 17.3328 10.9677ZM15.2644 5.79743L14.2575 6.20588L13.393 5.54083L13.392 5.5401C12.9857 5.23541 12.5786 5.0012 12.1406 4.81785L11.133 4.40909L10.7789 1.9001H9.21572L9.00298 3.33608L8.85105 4.40907L7.84369 4.81772C7.42462 4.99148 7.00691 5.23644 6.57171 5.56031L5.71691 6.20616L4.72926 5.8073L3.37883 5.265L2.59177 6.6255L3.7406 7.51903L4.58581 8.18381L4.45272 9.2578L4.45249 9.26015C4.42253 9.5597 4.40199 9.79442 4.40199 10.0001C4.40199 10.2057 4.42249 10.4405 4.45242 10.7497L4.58581 11.8264L3.74017 12.4915L2.59177 13.3847L3.37883 14.7452L4.72958 14.2028L5.73646 13.7943L6.60102 14.4594L6.60199 14.4601C7.00825 14.7648 7.41539 14.999 7.85338 15.1823L8.86102 15.5911L9.21511 18.1001H10.7883L11.001 16.6641L11.1529 15.5911L12.1603 15.1825C12.5794 15.0087 12.9971 14.7638 13.4323 14.4399L14.2871 13.794L15.2747 14.1929L16.6252 14.7352L17.4122 13.3747L16.2634 12.4812L15.4182 11.8164L15.5513 10.7424L15.5515 10.74C15.5814 10.4406 15.602 10.2158 15.602 10.0001C15.602 9.78595 15.5917 9.57141 15.5512 9.2573L15.4182 8.18381L16.2642 7.5184L17.4018 6.61472L16.6152 5.255L15.2644 5.79743Z" fill="#F3F8FF"/>
                </svg>
                &nbsp; Tùy chỉnh
                </p-button> -->
             </div>
        </div>
    </section>
    <p-menu [model]="itemsToolOfGrid" [appendTo]="'body'" [popup]="true"
    styleClass="menu-option-right" #menuButton></p-menu>
    <section class="content">
        <div class="grid-default" #container>
            <app-list-grid-angular *ngIf="columnDefs.length > 0" 
                [listsData]="listsData" 
                [height]="heightGrid"
                [columnDefs]="columnDefs"
                [idGrid]="gridKey + '_45dfs'"
                [rowSelection]="'multiple'"
                (showConfig)="cauhinh()"
                (onCellClicked)="onCellClicked($event)"
                >
            </app-list-grid-angular>
            <app-loading-grid  [gridtype]="'lhd'" *ngIf="columnDefs.length === 0" [columnNumber]="10"></app-loading-grid>
            <div class="paginator">
                <span>Từ {{ countRecord.currentRecordStart }} đến
                    {{ countRecord.currentRecordEnd }}
                    trên tổng số
                    {{ countRecord.totalRecord }} kết quả</span>
                <p-paginator [rows]="query.pageSize" [totalRecords]="countRecord.totalRecord" [first]="first"
                    (onPageChange)="paginate($event)" [rowsPerPageOptions]="[20,40,60,100,200,{ showAll: 'ALL' }]">
                </p-paginator>
            </div>
        </div>
    </section>
</div>

<p-dialog  [modal]="true" [(visible)]="isShowAvatar" header="Ảnh Avartar">
<p-image class="img-popup" [src]="imgAvatar" alt="Image" [preview]="false"></p-image>
</p-dialog>

<p-dialog header="Cài đặt cấu hình" [(visible)]="displaySetting" (onHide)="find()" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
[draggable]="false" [resizable]="false" [focusTrap]="false" styleClass="popup-setting">
<app-config-grid-table-form *ngIf="displaySetting && gridKey" [typeConfig]="'TableInfo'"   [gridKey]="gridKey"></app-config-grid-table-form>
</p-dialog>


<app-hrm-search-emp [isSearch]="isSearchEmp" *ngIf="isSearchEmp" (seachEmValue)="seachEmValue($event)"></app-hrm-search-emp>

<p-overlayPanel #op [style]="{'width': '40rem'}" [dismissable]="false" appendTo="body" >
    <ng-template pTemplate>
        <app-form-filter *ngIf="listViewsFilter.length > 0" [listFields]="listViewsFilter" [detailInfoFilter]="detailInfoFilter" [buttonsFilters] ="optionsButonFilter" (callback)="filterLoad($event)" (close)="close($event);op.hide()"></app-form-filter>
    </ng-template>
</p-overlayPanel>