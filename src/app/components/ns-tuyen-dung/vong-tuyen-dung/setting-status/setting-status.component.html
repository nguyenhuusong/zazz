<div class="main-grid">
    <section class="pt-0 pb-0">
        <div class="text-right p-2 pt-0">
            <p-button styleClass="p-button-sm" icon="pi pi-plus" label="Thêm mới" (click)="create()"></p-button>
        </div>
        
        <app-list-grid-angular *ngIf="columnDefs.length > 0" 
            [height]="heightGrid"
            [columnDefs]="columnDefs"
            [idGrid]="gridKey + '_45dfs'"
            [rowSelection]="'multiple'"
            [listsData]="listsData"
            [height]="heightGrid"
            (showConfig)="cauhinh()"
            (onCellClicked)="onCellClicked($event)"
            >
        </app-list-grid-angular>
        <app-loading-grid  [gridtype]="'lhd'" *ngIf="columnDefs?.length === 0" [columnNumber]="11"></app-loading-grid>
        <div class="paginator">
            <span>Từ {{ countRecord.currentRecordStart }} đến
                {{ countRecord.currentRecordEnd }}
                trên tổng số
                {{ countRecord.totalRecord }} kết quả</span>
            <p-paginator [rows]="query.pageSize" [totalRecords]="countRecord.totalRecord" [first]="first"
                (onPageChange)="paginate($event)" [rowsPerPageOptions]="[20,40,60,100,200,{ showAll: 'ALL' }]">
            </p-paginator>
        </div>
       
    </section>
</div>

<p-dialog header="Cài đặt cấu hình" [(visible)]="displaySetting" (onHide)="find()" [modal]="true" [style]="{width: '50vw'}" [maximizable]="true"
    [draggable]="false" [resizable]="false" [focusTrap]="false" styleClass="popup-setting">
    <app-config-grid-table-form *ngIf="displaySetting && gridKey" [typeConfig]="'TableInfo'" [gridKey]="gridKey"></app-config-grid-table-form>
</p-dialog>

<p-sidebar
    [style]="{ width: '80%' }"
    [(visible)]="isFormDetail" 
    styleClass="popup-setting"
    position="right">
    <ng-template pTemplate="header">
        <!-- #iconheader -->
        Thiết lập trạng thái chuyển vòng </ng-template>
    <ng-template pTemplate="footer"></ng-template>
    <app-detail-setting-status *ngIf="isFormDetail"
        (detailOut)="theEventDetail($event)" 
        [idForm]="idForm">
    </app-detail-setting-status>
</p-sidebar>
