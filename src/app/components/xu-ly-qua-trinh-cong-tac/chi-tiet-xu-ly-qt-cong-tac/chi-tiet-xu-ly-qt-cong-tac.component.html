<div class="main-grid product-detail" *ngIf="!isDialog">
    <section class="bread-crumb">
        <div class="grid">
            <div class="col-6">
                     <app-hrm-breadcrumb [items]="itemsMenu"></app-hrm-breadcrumb>
            </div>
            <div class="col-6  flex justify-content-end align-items-center" >
                <div class="fields " style="margin-bottom: 0;">
                    <p-dropdown 
                        *ngIf="listViews.length> 0" 
                        [options]="status" 
                        (onChange)="UpdateStatus()"
                        [(ngModel)]="selectedStatus" 
                        [styleClass]="selectedStatus?.bgColor"  
                        [style]="{'width': '180px'}" 
                        optionLabel="name"  
                        placeholder="Chọn trạng thái">
                        <ng-template pTemplate="selectedItem" >
                            <div class="flex align-items-center gap-2" *ngIf="selectedStatus" >
                                <div>{{ selectedStatus.name}}</div>
                            </div>
                        </ng-template>
                        <ng-template let-country pTemplate="item">
                            <div class="flex align-items-center gap-2" *ngIf="country.value != selectedStatus?.value">
                                <div class="pb-2 pt-2 gap-2" style="display: flex; align-items: center; width: 100%;justify-content: space-around;font-size: 13px;">
                                    <span style="white-space:nowrap">{{ country.placeholder }} </span>
                                    <span class="pi pi-arrow-right" style="font-size: 12px;"></span>
                                    <span [class]="country.textColor" style="white-space:nowrap">{{ country.name }}</span>
                                </div>
                            </div>
                        </ng-template>
                    </p-dropdown>
                </div>
                <p-splitButton icon="pi pi-send" *ngIf="menuActions.length > 0" styleClass="p-button-sm ml-2" [appendTo]="'body'" (onClick)="callActions(menuActions[0].value)" [label]="menuActions[0].label" [model]="menuActions"></p-splitButton>
                <p-button label="Quay lại" (onClick)="onBack()" styleClass="p-button-secondary p-button-sm ml-2" [style]="{'z-index': 9}" icon="pi pi-directions-alt"></p-button>
                  </div>
        </div>
    </section>
</div>
<section *ngIf="!isDialog">
    <app-edit-detail *ngIf="listViews.length> 0" [isNested]="true" [detail]="detailInfo" [manhinh]="'Edit'" [isHideButton]="true"
        [optionsButtonsEdit]="optionsButtonsView" [dataView]="listViews" (callback)="setDetail($event)"
        (callbackcancel)="cancel($event)"></app-edit-detail>
        <app-loading-detail 
            [id]="'app-chi-tiet-xu-ly-qt-cong-tac'" 
            *ngIf="listViews.length === 0">
        </app-loading-detail>
        <app-loading-detail 
            [id]="'sections-3qnt'" 
            *ngIf="listViews.length === 0">
        </app-loading-detail>

   
    <div>
    </div>
</section>

<p-sidebar
    [style]="{ width: '80%' }"
    styleClass="popup-btngroup-edit-detail"
    [(visible)]="displayFormEditDetail" 
    (onHide)="callback.emit()"
    position="right">
    <ng-template pTemplate="header">
        <!-- #iconheader -->
        {{ processId ? 'Chi tiết quá trình công tác' : 'Thêm mới quá trình công tác' }}</ng-template>
    
        <app-edit-detail *ngIf="listViews.length> 0" [isNested]="true" [detail]="detailInfo" [manhinh]="'Edit'" [isHideButton]="true"
            [optionsButtonsEdit]="optionsButtonsView" [dataView]="listViews" (callback)="setDetail($event)"
            (callbackcancel)="cancel($event)"></app-edit-detail>
            <app-hop-dong-process *ngIf="contract_is == 1 && detailInfo" [processId]="detailInfo?.processId" [empId]="detailInfo?.empId" ></app-hop-dong-process>

            <app-loading-detail 
                [id]="'app-chi-tiet-xu-ly-qt-cong-tac'" 
                *ngIf="listViews.length === 0">
            </app-loading-detail>
            <app-loading-detail 
                [id]="'sections-3qnt'" 
                *ngIf="listViews.length === 0">
            </app-loading-detail>
    
        <ng-template pTemplate="footer">
            <div class="col-12  flex justify-content-end align-items-center" >
                <div class="fields btn status" [ngClass]="status.length <= 1 ? 'no-dropdown' : ''" style="margin-bottom: 0;">
                    <p-dropdown 
                        *ngIf="listViews.length> 0" 
                        [options]="status" 
                        (onChange)="UpdateStatus()"
                        [(ngModel)]="selectedStatus" 
                        [styleClass]="selectedStatus?.bgColor"  
                        [style]="{'width': '180px'}" 
                        optionLabel="name"  
                        placeholder="Chọn trạng thái">
                        <ng-template pTemplate="selectedItem" >
                            <div class="flex align-items-center gap-2" *ngIf="selectedStatus" >
                                <div>{{ selectedStatus.name}}</div>
                            </div>
                        </ng-template>
                        <ng-template let-country pTemplate="item">
                            <div class="flex align-items-center gap-2" *ngIf="country.value != selectedStatus?.value">
                                <div class="pb-2 pt-2 gap-2" style="display: flex; align-items: center; width: 100%;justify-content: space-around;font-size: 13px;">
                                    <span style="white-space:nowrap">{{ country.placeholder }} </span>
                                    <span class="pi pi-arrow-right" style="font-size: 12px;"></span>
                                    <span [class]="country.textColor" style="white-space:nowrap">{{ country.name }}</span>
                                </div>
                            </div>
                        </ng-template>
                    </p-dropdown>
                </div>
                <p-splitButton [ngClass]="menuActions.length <= 1 ? 'no-dropdown' : ''" icon="{{ menuActions[0].icon }} uni-white-color" *ngIf="menuActions.length > 0" styleClass="p-button-sm ml-2" [appendTo]="'body'" (onClick)="callActions(menuActions[0].value)" [label]="menuActions[0].label" [model]="menuActions"></p-splitButton>
                <p-button label="Đóng" (click)="callback.emit()" styleClass="p-button-secondary p-button-sm ml-2" [style]="{'z-index': 9}" icon="pi pi-times"></p-button>
                  </div>
        </ng-template>
        
</p-sidebar>



